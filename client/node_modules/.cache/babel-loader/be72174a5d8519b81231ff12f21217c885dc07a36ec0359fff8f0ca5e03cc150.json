{"ast":null,"code":"import axios from \"axios\";\nimport { LOGIN_SUCCESS, LOGIN_FAIL, SIGNUP_SUCCESS, SIGNUP_FAIL, LOGOUT } from \"../types\";\nconst API_URL = \"http://localhost:4000/api\";\nexport const login = (email, password) => async dispatch => {\n  try {\n    const res = await axios.post(`${API_URL}/auth/login`, {\n      email,\n      password\n    });\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: res.data\n    });\n    localStorage.setItem(\"token\", res.data.token);\n    return res.data;\n  } catch (err) {\n    var _err$response, _err$response$data;\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Login failed\"\n    });\n    throw err;\n  }\n};\nexport const signup = userData => async dispatch => {\n  try {\n    const res = await axios.post(`${API_URL}/auth/signup`, userData);\n    dispatch({\n      type: SIGNUP_SUCCESS,\n      payload: res.data\n    });\n    localStorage.setItem(\"token\", res.data.token);\n    return res.data;\n  } catch (err) {\n    var _err$response2, _err$response2$data;\n    dispatch({\n      type: SIGNUP_FAIL,\n      payload: ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Signup failed\"\n    });\n    throw err;\n  }\n};\nexport const logout = () => dispatch => {\n  localStorage.removeItem(\"token\");\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"names":["axios","LOGIN_SUCCESS","LOGIN_FAIL","SIGNUP_SUCCESS","SIGNUP_FAIL","LOGOUT","API_URL","login","email","password","dispatch","res","post","type","payload","data","localStorage","setItem","token","err","_err$response","_err$response$data","response","error","signup","userData","_err$response2","_err$response2$data","logout","removeItem"],"sources":["C:/Users/MO/Desktop/New folder (2)/client/src/redux/actions/authActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  SIGNUP_SUCCESS,\r\n  SIGNUP_FAIL,\r\n  LOGOUT,\r\n} from \"../types\";\r\n\r\nconst API_URL = \"http://localhost:4000/api\";\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`${API_URL}/auth/login`, { email, password });\r\n\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n\r\n    localStorage.setItem(\"token\", res.data.token);\r\n    return res.data;\r\n  } catch (err) {\r\n    dispatch({\r\n      type: LOGIN_FAIL,\r\n      payload: err.response?.data?.error || \"Login failed\",\r\n    });\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const signup = (userData) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`${API_URL}/auth/signup`, userData);\r\n\r\n    dispatch({\r\n      type: SIGNUP_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n\r\n    localStorage.setItem(\"token\", res.data.token);\r\n    return res.data;\r\n  } catch (err) {\r\n    dispatch({\r\n      type: SIGNUP_FAIL,\r\n      payload: err.response?.data?.error || \"Signup failed\",\r\n    });\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  localStorage.removeItem(\"token\");\r\n  dispatch({ type: LOGOUT });\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,aAAa,EACbC,UAAU,EACVC,cAAc,EACdC,WAAW,EACXC,MAAM,QACD,UAAU;AAEjB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,OAAO,MAAMC,KAAK,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK,MAAOC,QAAQ,IAAK;EAC5D,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,GAAGN,OAAO,aAAa,EAAE;MAAEE,KAAK;MAAEC;IAAS,CAAC,CAAC;IAE1EC,QAAQ,CAAC;MACPG,IAAI,EAAEZ,aAAa;MACnBa,OAAO,EAAEH,GAAG,CAACI;IACf,CAAC,CAAC;IAEFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,GAAG,CAACI,IAAI,CAACG,KAAK,CAAC;IAC7C,OAAOP,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC,OAAOI,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACZX,QAAQ,CAAC;MACPG,IAAI,EAAEX,UAAU;MAChBY,OAAO,EAAE,EAAAM,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcL,IAAI,cAAAM,kBAAA,uBAAlBA,kBAAA,CAAoBE,KAAK,KAAI;IACxC,CAAC,CAAC;IACF,MAAMJ,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMK,MAAM,GAAIC,QAAQ,IAAK,MAAOf,QAAQ,IAAK;EACtD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,GAAGN,OAAO,cAAc,EAAEmB,QAAQ,CAAC;IAEhEf,QAAQ,CAAC;MACPG,IAAI,EAAEV,cAAc;MACpBW,OAAO,EAAEH,GAAG,CAACI;IACf,CAAC,CAAC;IAEFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,GAAG,CAACI,IAAI,CAACG,KAAK,CAAC;IAC7C,OAAOP,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC,OAAOI,GAAG,EAAE;IAAA,IAAAO,cAAA,EAAAC,mBAAA;IACZjB,QAAQ,CAAC;MACPG,IAAI,EAAET,WAAW;MACjBU,OAAO,EAAE,EAAAY,cAAA,GAAAP,GAAG,CAACG,QAAQ,cAAAI,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcX,IAAI,cAAAY,mBAAA,uBAAlBA,mBAAA,CAAoBJ,KAAK,KAAI;IACxC,CAAC,CAAC;IACF,MAAMJ,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMS,MAAM,GAAGA,CAAA,KAAOlB,QAAQ,IAAK;EACxCM,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;EAChCnB,QAAQ,CAAC;IAAEG,IAAI,EAAER;EAAO,CAAC,CAAC;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}